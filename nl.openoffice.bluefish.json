{
	"app-id": "nl.openoffice.bluefish",
	"runtime": "org.gnome.Platform",
	"runtime-version": "48",
	"sdk": "org.gnome.Sdk",
	"command": "bluefish",
	"rename-icon": "bluefish",
	"rename-appdata-file": "bluefish.appdata.xml",
	"rename-desktop-file": "bluefish.desktop",
	"finish-args": [
		"--share=ipc",
		"--socket=fallback-x11",
		"--socket=wayland",
		"--share=network",
		"--filesystem=host"
	],
	"cleanup": [
		"/include",
		"/lib/pkgconfig",
		"/share/pkgconfig",
		"/share/aclocal",
		"/man",
		"/share/man",
		"*.la",
		"*.a",
		"/share/info",
		"/share/doc"
	],
	"modules": [
		{
				"name": "bluefish",
				"buildsystem": "autotools",
				"post-install": [
					"mv ${FLATPAK_DEST}/share/mime/packages/bluefish.xml ${FLATPAK_DEST}/share/mime/packages/${FLATPAK_ID}.xml",
					"cd ${FLATPAK_DEST}/share/icons/hicolor; for d in */mimetypes/; do for f in ${d}*; do mv \"$f\" \"${d}${FLATPAK_ID}.$(basename $f)\"; done; done"
				],
				"sources": [
						{
							"type": "archive",
							"url": "https://www.bennewitz.com/bluefish/stable/source/bluefish-2.4.0.tar.bz2",
							"sha256": "3d0d0ac6553c83251a2031d4ea9e36a8c8947dd6e5e40a868e34ad0f5d2ea822"
						}
				],
				"modules": [
					{
						"name": "gucharmap",
						"buildsystem": "meson",
						"config-opts": [
							"-Ducd_path=/app/share/unicode"
						],
						"sources": [
								{
									"type": "archive",
									"url": "https://gitlab.gnome.org/api/v4/projects/1701/packages/generic/gucharmap/17.0.0/gucharmap-17.0.0.tar.xz",
									"sha256": "089e7527f832891e00bb72f432503d37a01272211f52a0c50fa6a6c37cf7a9e1"
								}
						],
						"modules": [
							{
								"name": "unicode-character-database",
								"buildsystem": "simple",
								"build-commands": [
									"install -Dm644 {UCD,Unihan}.zip -t /app/share/unicode/",
									"unzip -d /app/share/unicode Unihan.zip",
									"unzip -d /app/share/unicode UCD.zip"
								],
								"sources": [{
									"type": "file",
									"url": "https://www.unicode.org/Public/zipped/15.0.0/UCD.zip",
									"sha256": "5fbde400f3e687d25cc9b0a8d30d7619e76cb2f4c3e85ba9df8ec1312cb6718c"
								}, {
									"type": "file",
									"url": "https://www.unicode.org/Public/zipped/15.0.0/Unihan.zip",
									"sha256": "24b154691fc97cb44267b925d62064297086b3f896b57a8181c7b6d42702a026"
								}
								],
								"cleanup": ["*"]
							}
						]
					}
				]
		}
	]
}
